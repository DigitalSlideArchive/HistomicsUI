extends ./panel.pug

block title
  | #[span.icon-pencil] #{title} #[span.h-panel-name #{name}]

block content
  .input-group.input-group-sm.h-style-group-row
    select.form-control.h-style-group
      each group in groups.sortBy('id')
        option(value=group.id, selected=group.id === style)
          = group.id
    .input-group-btn
      button.btn.btn-default.h-configure-style-group(type='button')
        span.icon-cog(data-toggle='tooltip', title='Configure style group. Keyboard shortcuts: "q" and "w" to select next and previous style group, respectively')
  if constraints.length
    .input-group.input-group-sm.h-drawing-constraints-row
      select.form-control.h-drawing-constraints
        each constraint in constraints
          option(value=constraint, selected=selectedConstraint === constraint)
            = constraint
      .input-group-btn
        button.btn.btn-default.h-configure-h-drawing-constraints(type='button')
          span.icon-cog(data-toggle='tooltip', title='Configure drawing constraints for currently selected shape.')
  .btn-group.btn-justified.btn-group-sm.h-draw-tools
    .btn-group.btn-group-sm
      button.h-draw.btn.btn-default(
        type='button', data-type='point', data-toggle='tooltip', title='Draw a new point (keyboard shortcut: o)', class=drawingType === 'point' ? 'active' : null)
        | #[span.icon-circle]Point
    .btn-group.btn-group-sm
      button.h-draw.btn.btn-default(
        type='button', data-type='rectangle', data-toggle='tooltip', title='Draw a new rectangle (keyboard shortcut: r)', class=drawingType === 'rectangle' ? 'active' : null)
        | #[span.icon-check-empty]Rectangle
    .btn-group.btn-group-sm
      button.h-draw.btn.btn-default(
        type='button', data-type='ellipse', data-toggle='tooltip', title='Draw a new ellipse (keyboard shortcut: i)', class=drawingType === 'ellipse' ? 'active' : null)
        | #[span.icon-circle-empty.flattenicon]Ellipse
    .btn-group.btn-group-sm
      button.h-draw.btn.btn-default(
        type='button', data-type='circle', data-toggle='tooltip', title='Draw a new circle (keyboard shortcut: c)', class=drawingType === 'circle' ? 'active' : null)
        | #[span.icon-circle-empty]Circle
    .btn-group.btn-group-sm
      button.h-draw.btn.btn-default(
        type='button', data-type='polygon', data-toggle='tooltip', title='Draw a new polygon (keyboard shortcut: p)', class=drawingType === 'polygon' ? 'active' : null)
        | #[span.icon-draw-polygon]Polygon
    .btn-group.btn-group-sm
      button.h-draw.btn.btn-default(
        type='button', data-type='line', data-toggle='tooltip', title='Draw a new line (keyboard shortcut: l)', class=drawingType === 'line' ? 'active' : null)
        | #[span.icon-pencil]Line

  if elements.length
    .h-elements-container
      each element in elements
        - var classes = highlighted[element.id] ? ['h-highlight-element'] : [];
        - element = element.toJSON();
        - var label = (element.label || {}).value || (element.type === 'polyline' ? (element.closed ? 'polygon' : 'line') : element.type);
        .h-element(data-id=element.id, class=classes)
          span.icon-cog.h-edit-element(title='Change style')
          span.h-element-label(title=label) #{label}
          span.icon-cancel.h-delete-element(title='Remove')
